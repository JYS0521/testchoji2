<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz App</title>
  <style>
    /* ===== ì „ì²´ ë°°ê²½ ë° ë ˆì´ì•„ì›ƒ ===== */
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: radial-gradient(circle at top, #b71c1c, #2e7d32);
      overflow: hidden;
      position: relative;
      font-family: 'Malgun Gothic', sans-serif;
    }

    body::before {
      content: "";
      position: absolute;
      top: -100%; left: 0; right: 0; bottom: 0;
      background-image: radial-gradient(circle, white 2px, transparent 0), radial-gradient(circle, white 4px, transparent 0);
      background-size: 300px 300px;
      animation: snowFall 10s linear infinite;
    }

    @keyframes snowFall {
      0% { transform: translateY(0); }
      100% { transform: translateY(300px); }
    }

    /* ===== ë©”ì¸ ë°•ìŠ¤ ===== */
    .main-box {
      width: 70vw;
      max-width: 900px;
      background: rgba(245, 245, 245, 0.95);
      padding: 60px 40px;
      border-radius: 50px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 40px;
      z-index: 10;
    }

    .main-box::before { content: "â˜ƒï¸"; position: absolute; top: -30px; left: 30px; font-size: 100px; }
    .main-box::after { content: "ğŸ¦Œ"; position: absolute; top: -30px; right: 30px; font-size: 100px; }

    /* ===== ì…ë ¥ì°½ & ë²„íŠ¼ ===== */
    .problem-box, .answer-box { display: flex; justify-content: center; gap: 30px; }
    input {
      width: 160px; height: 70px; background-color: #fffaf0; border: 2px solid #c62828;
      border-radius: 15px; font-size: 48px; font-weight: bold; text-align: center; color: #c62828;
    }

    button {
      width: 140px; height: 65px; background-color: #e53935; color: white; border: none;
      border-radius: 15px; font-size: 28px; font-weight: bold; cursor: pointer;
      box-shadow: 0 5px 0 #b71c1c;
      outline: none;
    }

    /* ===== ìŠ¬ë¡¯ë¨¸ì‹  ë° ì •ë‹µ ë…¸ì¶œ ë¡œì§ (2ì´ˆë¡œ ìˆ˜ì •ë¨) ===== */

    /* 1. ìƒì í”ë“¤ë¦¼ (2ì´ˆë¡œ ìˆ˜ì •) */
    .main-box:has(button:focus) {
      animation: waitShake 2s ease-in-out;
    }

    @keyframes waitShake {
      0%, 100% { transform: scale(1) rotate(0); }
      10%, 30%, 50%, 70%, 90% { transform: scale(1.02) rotate(1.5deg); }
      20%, 40%, 60%, 80% { transform: scale(1.02) rotate(-1.5deg); }
    }

    /* 2. ê²°ê³¼ ë°•ìŠ¤ ë ˆì´ì•„ì›ƒ */
    .result-box {
      height: 140px;
      overflow: hidden;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* ì‹¤ì œ ì •ë‹µ: ìœ„ì¹˜ ê³ ì • ë° ê²¹ì¹¨ ë°©ì§€ */
    #result {
      font-size: 90px;
      line-height: 140px;
      color: #c62828;
      font-weight: bold;
      text-align: center;
      margin: 0;
      padding: 0;
      opacity: 0;
      visibility: hidden;
      position: absolute;
      left: 65%; /* í…ìŠ¤íŠ¸ ì˜¤ë¥¸ìª½ ê³µê°„ í™•ë³´ */
      transform: translateX(-50%);
      z-index: 1;
    }

    /* ìŠ¬ë¡¯ë¨¸ì‹ : 2ì´ˆ ë™ì•ˆ ëŒì•„ê°€ë„ë¡ ìˆ˜ì • */
    .main-box:has(button:focus) .result-box::after {
      content: "??\A 82\A 14\A 55\A 03\A 99\A 37\A ??";
      white-space: pre;
      position: absolute;
      width: 200px;
      left: 65%; /* ìˆ«ìì™€ ë™ì¼í•œ ìœ„ì¹˜ */
      top: 0;
      transform: translateX(-50%);
      color: #c62828;
      font-size: 90px;
      font-weight: bold;
      text-align: center;
      line-height: 140px;
      background: rgba(245, 245, 245, 1);
      visibility: visible;
      opacity: 1;
      z-index: 5;
      /* ì• ë‹ˆë©”ì´ì…˜ ëë‚˜ëŠ” ì‹œê°„ì„ 2së¡œ ë³€ê²½ */
      animation: slotScroll 0.15s infinite, fadeOut 0s forwards 2s;
    }

    @keyframes slotScroll {
      0% { transform: translate(-50%, 0); }
      100% { transform: translate(-50%, -840px); }
    }

    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; display: none; }
    }

    /* 3. ì‹¤ì œ ì •ë‹µ ë“±ì¥: 2ì´ˆ ë’¤ì— ë‚˜íƒ€ë‚˜ë„ë¡ ìˆ˜ì • */
    .main-box:has(button:focus) #result {
      animation: finalReveal 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 2s forwards;
    }

    @keyframes finalReveal {
      0% { transform: translate(-50%, 20px) scale(0.5); opacity: 0; visibility: visible; }
      100% { transform: translate(-50%, 0) scale(1); opacity: 1; visibility: visible; }
    }

    /* ìºë¦­í„° ì í”„ íš¨ê³¼ */
    .main-box:has(button:focus)::before,
    .main-box:has(button:focus)::after {
      animation: characterJump 0.4s infinite;
    }

    @keyframes characterJump {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-40px); }
    }

    /* í…ìŠ¤íŠ¸ ë ˆì´ë¸” ì¶”ê°€ ìŠ¤íƒ€ì¼ */
    .result-label {
      font-size: 35px;
      font-weight: bold;
      color: #333;
      margin-right: 180px;
      z-index: 10;
    }
  </style>
</head>
<body>
  <div class="box">
    <div class="main-box">
      <div class="problem-box">
        <input type="number" id="qz-num1" placeholder="ë¬¸ì œ ë²ˆí˜¸">
        <input type="number" id="qz-num2" placeholder="ë¬¸ì œ ë²ˆí˜¸">
        <input type="number" id="qz-num3" placeholder="ë¬¸ì œ ë²ˆí˜¸">
        
        <button id="button" onclick="
          const s = document.getElementById('audio-slot'); 
          const w = document.getElementById('audio-win');
          s.currentTime = 0; 
          s.play();
          setTimeout(() => { 
            s.pause(); 
            w.currentTime = 0; 
            w.play(); 
          }, 2000);
        ">ì²´í¬</button>
      </div>

      <div class="answer-box">
        <input type="number" id="qz-answer1" placeholder="ë‹µ ì…ë ¥">
        <input type="number" id="qz-answer2" placeholder="ë‹µ ì…ë ¥">
        <input type="number" id="qz-answer3" placeholder="ë‹µ ì…ë ¥">
      </div>

      <div class="result-box"> 
        <span class="result-label">ì˜¤ì°¨ í‰ê·  :</span>
        <p id="result"></p>
      </div> 

      <audio id="audio-slot" src="slot_sound.mp3" preload="auto"></audio>
      <audio id="audio-win" src="win_sound.mp3" preload="auto"></audio>
    </div>
  </div>

  <script>
    // ê° ë¬¸ì œ ì •ë‹µ ì…ë ¥ 0ì€ ìˆ˜ì • x (ë°°ì—´ì€ ì²«ë²ˆì§¸ ì¹¸ì´ 0ì´ê¸° ë–„ë¬¸),(ì¶”ê°€ ê°€ëŠ¥)
    const problem = [0, 2400, 1100, 1800, 2300, 8600, 1800, 7800, 4800, 1160, 2300, 0, 13500, 8690, 29000, 14000, 14900, 1290000, 0, 0, 419000];
    // ë²„íŠ¼ ë¶ˆëŸ¬ì˜¤ê¸°
    const btn = document.getElementById('button');
    // ë²„íŠ¼ í´ë¦­ì‹œ ì•„ë˜ ì½”ë“œ ì‘ë™
    btn.addEventListener('click', ()=> {
      var result = document.getElementById('result');
      // í€´ì¦ˆ ë¬¸ì œ ë²ˆí˜¸ ë¶ˆëŸ¬ì˜¤ê¸°
      var num = document.getElementById('qz-num1').value;
      var num2 = document.getElementById('qz-num2').value;
      var num3 = document.getElementById('qz-num3').value;
      // ì ì€ ë‹µ ë¶ˆëŸ¬ì˜¤ê¸°
      var answer1 = document.getElementById('qz-answer1').value;
      var answer2 = document.getElementById('qz-answer2').value;
      var answer3 = document.getElementById('qz-answer3').value;
      // í€´ì¦ˆ ë¬¸ì œ ë²ˆí˜¸ë¥¼ arrayì— ìˆëŠ” ê°’ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
      problem_prise1 = problem[num];
      problem_prise2 = problem[num2];
      problem_prise3 = problem[num3];
      // ë¬¸ì œê°€ ì˜ ë¶ˆëŸ¬ì ¸ ì™”ëŠ”ì§€ í™•ì¸
      console.log(problem_prise1);
      console.log(problem_prise2);
      console.log(problem_prise3);
      // ì •ë‹µ ë­ ì ì—ˆëŠ”ì§€ í™•ì¸
      console.log(answer1);
      console.log(answer2);
      console.log(answer3);
      // ì²«ë²ˆì§¸ ë¬¸ì œ ê³„ì‚°
      sum1 = ((problem_prise1 - answer1) / problem_prise1 * 100);
      sum1 = Math.abs(sum1);
      sum1 = Math.round(sum1);
      console.log(sum1);
      // ë‘ë²ˆì§¸ ë¬¸ì œ ê³„ì‚°
      sum2 = ((problem_prise2 - answer2) / problem_prise2 * 100);
      sum2 = Math.abs(sum2);
      sum2 = Math.round(sum2);
      console.log(sum2);
      // ì„¸ë²ˆì§¸ ë¬¸ì œ ê³„ì‚°
      sum3 = ((problem_prise3 - answer3) / problem_prise3 * 100);
      sum3 = Math.abs(sum3);
      sum3 = Math.round(sum3);
      console.log(sum3);
      // í‰ê·  ë‚´ê¸°
      percent = (sum1 + sum2 + sum3) / 3;
      percent = Math.round(percent);
      console.log(percent);

      document.getElementById('result').innerText = percent;
    });
  </script>
</body>
</html>